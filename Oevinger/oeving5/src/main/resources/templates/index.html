<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>online c++ compiler</title>
</head>

<body>
<h1>Compile C++</h1>

<label for="inputCode">main.cpp:</label>
<br>
<textarea id="inputCode" name="inputCode" rows="4" cols="50"\>
#include <stdio.h>

int main(){
printf("c++ compiled and run");
}
</textarea>
<br><br>
<input id="inputButton" type="submit" value="Submit">

<p>Click the "Submit" button and the form-data will be sent to a page on the
    server called "rawcode.cpp".</p>
<br><br>
    <label for="outputCode">Output:</label>
    <br>
<textarea id="outputCode" name="outputCode" readonly rows="4" cols="50">
    code will appear here
</textarea>


</body>
<script type="text/javascript">
    let button = document.getElementById("inputButton");

    console.log(document.getElementById("inputCode"));

    button.addEventListener('click', function () {
        const Http = new XMLHttpRequest();
        const url = "http://localhost:8080/programs";
        Http.open("POST",url);

        Http.send(encodeURIComponent(document.getElementById("inputCode").value));
        Http.onreadystatechange = function (){
            document.getElementById("outputCode").value = Http.responseText;
        }
    })
</script>

</html>